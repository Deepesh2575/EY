"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{9980:function(e,s,a){a.r(s),a.d(s,{default:function(){return j}});var r=a(7437),l=a(2265),t=a(3056),d=a(5224),n=a(6441),c=a(407),i=a(7719),o=a(525),x=a(5805),m=a(5302),h=a(5131),u=a(5252),p=a(3464),b=a(2003);function j(){let[e,s]=(0,l.useState)(null),[a,j]=(0,l.useState)([]),[N,f]=(0,l.useState)(!0);(0,l.useEffect)(()=>{w()},[]);let w=async()=>{try{let[e,a]=await Promise.all([p.Z.get("".concat(b.C,"/api/stats")),p.Z.get("".concat(b.C,"/api/admin/applications"))]);s(e.data),j(a.data)}catch(e){console.error("Error fetching dashboard data:",e)}finally{f(!1)}};if(N)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-dark-900 text-primary-400",children:(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-current border-t-transparent rounded-full"})});let y=["#10b981","#ef4444","#f59e0b"],k=[{name:"Approved",value:(null==e?void 0:e.approved_loans)||0},{name:"Rejected",value:(null==e?void 0:e.rejected_loans)||0},{name:"Pending",value:(null==e?void 0:e.pending)||0}];return(0,r.jsx)("div",{className:"min-h-screen bg-dark-900 p-8 text-dark-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary-400 to-secondary-400 bg-clip-text text-transparent",children:"Banker Dashboard"}),(0,r.jsx)("p",{className:"text-dark-400 mt-1",children:"Real-time overview of loan applications"})]}),(0,r.jsx)("button",{onClick:w,className:"p-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-dark-400 hover:text-white transition-colors",children:(0,r.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(g,{title:"Total Applications",value:(null==e?void 0:e.total_conversations)||0,icon:(0,r.jsx)(x.Z,{className:"w-6 h-6 text-blue-400"}),color:"bg-blue-500/10 border-blue-500/20"}),(0,r.jsx)(g,{title:"Approved",value:(null==e?void 0:e.approved_loans)||0,icon:(0,r.jsx)(m.Z,{className:"w-6 h-6 text-success-400"}),color:"bg-success-500/10 border-success-500/20"}),(0,r.jsx)(g,{title:"Rejected",value:(null==e?void 0:e.rejected_loans)||0,icon:(0,r.jsx)(h.Z,{className:"w-6 h-6 text-danger-400"}),color:"bg-danger-500/10 border-danger-500/20"}),(0,r.jsx)(g,{title:"Disbursal Pending",value:"₹".concat(((null==e?void 0:e.approved_loans)*5e5/1e7).toFixed(1),"Cr"),icon:(0,r.jsx)(u.Z,{className:"w-6 h-6 text-warning-400"}),color:"bg-warning-500/10 border-warning-500/20"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700 shadow-xl",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Approval Status"}),(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(t.h,{width:"100%",height:"100%",children:(0,r.jsxs)(d.u,{children:[(0,r.jsx)(n.by,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:k.map((e,s)=>(0,r.jsx)(c.b,{fill:y[s%y.length]},"cell-".concat(s)))}),(0,r.jsx)(i.u,{contentStyle:{backgroundColor:"#1a1d2d",borderColor:"#2d3342"},itemStyle:{color:"#fff"}})]})})}),(0,r.jsxs)("div",{className:"flex justify-center gap-4 mt-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-success-500"})," Approved"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-danger-500"})," Rejected"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-warning-500"})," Pending"]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-2 bg-dark-800 p-6 rounded-xl border border-dark-700 shadow-xl overflow-hidden",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Recent Applications"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-dark-700 text-dark-400 text-sm",children:[(0,r.jsx)("th",{className:"pb-3 px-4",children:"Applicant"}),(0,r.jsx)("th",{className:"pb-3 px-4",children:"Amount"}),(0,r.jsx)("th",{className:"pb-3 px-4",children:"Purpose"}),(0,r.jsx)("th",{className:"pb-3 px-4",children:"Score"}),(0,r.jsx)("th",{className:"pb-3 px-4",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-dark-700",children:a.map(e=>(0,r.jsxs)("tr",{className:"text-sm hover:bg-dark-700/50 transition-colors",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-medium",children:e.name}),(0,r.jsxs)("td",{className:"py-3 px-4",children:["₹",(e.amount||0).toLocaleString()]}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.type}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("span",{className:"px-2 py-1 bg-dark-700 rounded text-xs",children:e.score})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)(v,{status:e.status})})]},e.id))})]})})]})]})]})})}function g(e){let{title:s,value:a,icon:l,color:t}=e;return(0,r.jsxs)("div",{className:"p-6 rounded-xl border ".concat(t," bg-dark-800 shadow-lg"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-dark-400 text-sm font-medium",children:s}),l]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white",children:a})]})}function v(e){let{status:s}=e,a={APPROVED:"bg-success-500/20 text-success-400 border-success-500/30",REJECTED:"bg-danger-500/20 text-danger-400 border-danger-500/30",IN_PROGRESS:"bg-primary-500/20 text-primary-400 border-primary-500/30",None:"bg-dark-700/50 text-dark-400 border-dark-600"},l=a[s]||a.IN_PROGRESS;return(0,r.jsx)("span",{className:"px-2 py-1 rounded-md text-xs border ".concat(l),children:s||"In Progress"})}},2003:function(e,s,a){a.d(s,{C:function(){return r}});let r="http://localhost:8000"}}]);